{"config":
  [{"filename":"flash.xml", "name":"default", "flashtype":"fastboot_dnx"},
   {"filename":"flash-buildbot.xml", "name":"default", "flashtype":"fastboot_dnx"},
   {"filename":"installer.cmd", "name":"no_dnx"},
   {"filename":"flash-EraseFactory.xml", "name":"erase_factory", "flashtype":"fastboot_dnx"},
   {"filename":"flash-no-dnx.xml", "name":"no_dnx", "flashtype":"fastboot"}
  ],
"commands":
  [{"type":"prop", "target":"INSTALLED_BUILD_PROP_TARGET"},
   {"type":"file", "target":"INSTALLED_DEDIPROG_TARGET"},
   {"type":"fflash", "partition":"osloader", "target":"INSTALLED_EFILINUX_MODULE", "restrict":["default", "erase_factory", "rvp8"]},
   {"type":"fboot", "target":"INSTALLED_DROIDBOOTIMAGE_TARGET", "restrict":["default", "erase_factory", "rvp8"]},
   {"type":"sleep", "timeout":25000, "restrict":["default", "erase_factory", "rvp8"]},
   {"type":"foem", "arg":"wipe ESP", "desc":"Wiping ESP partition", "mandatory":false},
   {"type":"foem", "arg":"wipe reserved", "desc":"Wiping reserved partition", "mandatory":false},
   {"type":"foem", "arg":"start_partitioning", "desc":"Start partitioning."},
   {"type":"fflash", "partition":"gpt", "target":"TARGET_PARTITION_TABLE", "desc":"Apply the new partition table to the device."},
   {"type":"fformat", "partition":"factory", "restrict":["erase_factory", "no_dnx"]},
   {"type":"ferase", "partition":"system"},
   {"type":"fformat", "partition":"cache"},
   {"type":"fformat", "partition":"config"},
   {"type":"fformat", "partition":"logs"},
   {"type":"fformat", "partition":"data"},
   {"type":"foem", "arg":"stop_partitioning", "desc":"Stop partitioning."},
   {"type":"fflash", "partition":"ESP", "target":"INSTALLED_ESPIMAGE_TARGET"},
   {"type":"fflash", "partition":"fastboot", "target":"INSTALLED_DROIDBOOTIMAGE_TARGET"},
   {"type":"foem", "arg":"mount ESP vfat", "desc":"Mounting ESP partition", "restrict":["rvp8"]},
   {"type":"fflash", "partition":"/mnt/ESP/EFI/BOOT/efilinux.cfg", "target":"EFILINUX_FAKEBATT_CFG", "restrict":["rvp8"]}
  ]}
